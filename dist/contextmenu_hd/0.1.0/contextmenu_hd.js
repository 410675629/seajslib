/* 2013-04-11 */
(function(e){var i=e(document),n=null,t=0,d=0,o={create:function(e){var i='<div class="hd-menu">					<div class="hd-shadow hd-default"></div>					<div class="hd-menu-body">';for(var n in e){var t=divmore="";if(void 0!=e[n].submenu&&(t=o.create(e[n].submenu),divmore='<div class="hd-menu-more"></div>'),"sep1"==n)i+='<div class="hd-menu-item hd-menu-separator">						<div class="hd-menu-separator-inner"></div>						</div>';else{var d="",u="";e[n].disabled&&(d=" disabled"),e[n].icon&&(u=" hd-"+e[n].icon),i+='<div class="hd-menu-item " evt="'+e[n].event+'">								<div class="hd-menu-icon'+u+d+'"></div>								<div class="hd-menu-label">'+e[n].name+t+"</div>"+divmore+"</div>"}}return i+="</div></div>"},setPosition:function(n){var o=n.clientX,u=n.clientY,s=e(window).width()-o,c=e(window).height()-u,r=e(".hd-menu"),h=r.width(),m=r.outerHeight();t=h>s?i.scrollLeft()+o-r.outerWidth():i.scrollLeft()+o,d=m>c?i.scrollTop()+u-r.outerHeight():i.scrollTop()+u,d=0>d?0:d,t=0>t?0:t,e(".hd-menu:visible").css({position:"absolute",top:d+"px",left:t+"px","z-index":10})},remove:function(){e(".hd-menu").remove()}};e.fn.contextmenu=function(n){return e(this).bind("contextmenu",function(i){return e(".hd-menu").remove(),e("body").append(o.create(n.items)),o.setPosition(i),!1}),"function"==typeof n.callback&&i.delegate(".hd-menu-item","click",function(){return n.callback(e(this)),o.remove(),!1}),this},i.bind("click.contextmenu",function(){o.remove()}),i.delegate(".hd-menu-item","mouseenter",function(){var i=e(this).children(".hd-menu-label").children(".hd-menu");if(clearTimeout(n),i.size()){n=setTimeout(function(){i.show()},200);var o=e(this).position(),u=i.outerWidth(),s=i.outerHeight();if(d+o.top+s>e(window).height()){var c=-1-s+25;i.css({top:c+"px"})}if(t+o.left+e(".hd-menu").width()+u>e(window).width()){var r=0-u;i.css({left:r+"px"})}}}),i.delegate(".hd-menu-item","mouseleave",function(){var i=e(this).find(".hd-menu");i.size()&&setTimeout(function(){i.hide()},200)})})(jQuery),define("contextmenu_hd/0.1.0/contextmenu_hd",[],function(e){return e.async("./contextmenu_hd.css"),$});