/* 2013-04-11 */
define("dialog/2.8.0/dialog",[],function(){return jQuery.dialog}),function(t){function e(t){if(t.onOk?(t.onok=t.onOk,p=!0):t.onok||(t.style.ok={display:"none"}),t.onCancel?(t.oncancel=t.onCancel,p=!0):t.oncancel||(t.style.cancel={display:"none"}),t.onClose&&(t.onclose=t.onClose,p=!0),t.styleContent&&(t.style.content=t.styleContent,p=!0),t.styleOk&&(t.style.ok=t.styleOk,p=!0),t.styleCancel&&(t.style.cancel=t.styleCancel,p=!0),t.url&&!t.content&&(t.content=t.url,p=!0),t.overlay&&(t.styleOverlay?(t.overlay={opacity:t.styleOverlay.opacity,bgColor:t.styleOverlay.backgroundColor,backgroundColor:t.styleOverlay.backgroundColor},p=!0):"object"!=typeof t.overlay&&(t.overlay={opacity:.2,bgColor:"#000"})),t.closeImg===!1?(t.style.close={display:"none"},p=!0):p&&(t.style.close={display:"block"}),p)switch("none"==t.style.ok.display&&"none"==t.style.cancel.display&&(t.style.bottom={display:"none"}),t.position){case"middle":case"c":case"m":t.position="center";break;case"rb":case"br":case"rightBottom":case"bottomRight":t.position="right-bottom";break;case"rt":case"tr":case"rightTop":case"topRight":t.position="right-top";break;case"lt":case"tl":case"leftTop":case"topLeft":t.position="left-top";break;case"ct":case"tc":case"centerTop":case"topCenter":t.position="center-top"}return t}function o(e){var i=this,n=o;i.closed=!0,i.option=e,i.completed=1,i.panel=n.build(e),i.panel.click(function(o){if(d[e.id])return!1;var n=t(o.target),l=n.attr("name");return/^(close|ok)$/i.test(l)?i[l]():void 0})}var i=window.VBArray,n=i&&!window.XMLHttpRequest,l=t(window),a=t(document),d={},r={},s=[],c={skin:"hudong",basePath:"./",zIndex:10100},p=!1;t.dialog=function(i){var n,l=o,a=!1,d=t.extend(!0,{},l.defaults,i);d=e(d),n=r[d.id],i.skin||(d.skin=c.skin),n?(delete d.one,n.option=d,a=!0,c.zIndex+=1,n.panel.css({zIndex:c.zIndex}),n.panel.find(".jqd-title").html(d.title)):(n=r[d.id]=new l(d),l.bindEvent(n));var s=n.panel;return s.unbind("click.jqd"),"function"==typeof d.onclick&&s.bind("click.jqd",function(t){return d.onclick(t)}),s.unbind("mouseover.jqd"),"function"==typeof d.onmouseover&&s.bind("mouseover",function(t){return d.onmouseover(t)}),s.unbind("mouseout.jqd"),"function"==typeof d.onmouseout&&s.bind("mouseout.jqd",function(t){return d.onmouseout(t)}),s.removeClass().addClass("jquery-dialog "+d.skin),l.setCss(n),d.draggable&&d.title?(s.addClass("draggable"),s.find(".jqd-title").addClass("dragger")):(s.removeClass("draggable"),s.find(".jqd-title").removeClass("dragger")),(a&&d.content||!a)&&n.setContent(d.content,d.type),n.show(),p?s:n},t.extend(t.dialog,{config:function(e){c=t.extend(c,e)},setConfig:function(e){c=t.extend(c,e)},close:function(t){var e;return t?r[t]&&(e=r[t].close()):s.length&&(e=s.pop(),e.close()),e},tip:function(e,o){var i="__tip",n={id:i,title:o,content:"",style:{bottom:{display:"none"}}};return"object"==typeof e?n=t.extend(!0,n,e):"string"==typeof e&&(n.title=o,n.content=e),t.dialog.confirm(n)},alert:function(e,o,i){var n="__alert",l={id:n,title:i,content:"",style:{bottom:{display:"block"},ok:{display:"inline-block"},cancel:{display:"none"}}};return"object"==typeof e?l=t.extend(!0,l,e):"string"==typeof e&&(l.title=i,l.content=e),t.dialog.confirm(l,o,i)},confirm:function(e,o,i){i=i||"提示";var n="__confirm",l={id:n,title:i,content:"",width:340,offsetY:-50,zIndex:20001,overlay:{zIndex:10001,opacity:0},style:{content:{"font-size":"14px",color:"#333"},bottom:{display:"block"},ok:{display:"inline-block"},cancel:{display:"inline-block"}},onok:function(t,e){"function"==typeof o?o(t,e):e.close()},oncancel:function(){dialog.close()}};return"object"==typeof e?l=t.extend(!0,l,e):"string"==typeof e&&(l.title=i,l.content=e),t.dialog(l)},get:function(t,e){return r[t]?e?r[t]:p?r[t].panel:r[t]:null},addStyle:function(e){t("head").append("<style>"+e+"</style>")}}),o.defaults={id:"default",title:"",type:"html",content:"",align:"left",valign:"center",width:0,height:0,offsetX:0,offsetY:0,position:"center",fixed:!0,draggable:!1,zIndex:0,autoClose:0,model:"default",overlay:{opacity:.7},focusInput:"",one:null,callback:null,onclose:null,oncancel:null,onok:null,onclick:null,onmouseover:null,onmouseout:null,textOk:"确 定",textCancel:"取 消",loading:"loading...",loadErrorInfo:"加载失败",display:{title:!0,close:!0,bottom:!0,ok:!0,cancel:!0},skin:c.skin,style:{"outter-wrap":"","inner-wrap":"",title:"",content:"",bottom:"",ok:"",cancel:"",close:"",error:"",success:"",status:""}},t.extend(o,{init:function(){o.setStyle();var e=[];e.push(".default .jqd-inner-wrap{border:2px solid #148ea4;border-radius:6px;box-shadow:0 0 8px #148ea4;}.default .jqd-title{background-color:#148ea4;border-bottom:1px solid #E5E5E5;color:#FFFFFF;font-weight:bold;}.default .jqd-close{width:18px;height:20px;top:2px;right:5px;}.default .jqd-button button{width:80px;height:27px;cursor: pointer;font-size:12px;line-height:100%;_line-height:26px;}"),e.push(".noborder .jqd-inner-wrap{}.noborder .jqd-title{display:none;}.noborder .jqd-content{padding:0;}.noborder .jqd-close{display:none;}.noborder .jqd-bottom-pad{height:0;}.noborder .jqd-bottom{display:none;}"),e.push(".bluebox .jqd-bg{background:#000; filter:alpha(opacity=30);opacity:0.3; width:100%; height:100% !important; _height:1000px;position:absolute; z-index:-1; zoom:1;}.bluebox .jqd-inner-wrap{}.bluebox .jqd-title{background-color:#009DF0;color:#FFF;font-weight:bold;}.bluebox .jqd-close{top:3px;right:5px;}.bluebox .jqd-button button{width:80px;height:27px;cursor: pointer;font-size:12px;line-height:100%;_line-height:26px;}"),e.push(".greybox .jqd-outter-wrap{}.greybox .jqd-bg{background:#000; filter:alpha(opacity=8);opacity:0.08; width:100%; height:100% !important; _height:1000px;position:absolute; z-index:-1; zoom:1;}.greybox .jqd-inner-wrap{border:1px solid #A5A5A5;border-radius:2px;box-shadow:0;}.greybox .jqd-title{border:0; height:30px;font-size:14px;line-height:30px;color:#87C7DB;background-color:#F3F3F3;}.greybox .jqd-close{width:10px;height:10px;top:10px;right:14px;background:url(http://www.huimg.cn/xiaobaike/images/baike2.0/form.png) -42px -108px;text-indent:2em;}.greybox .jqd-button button{width:80px;height:27px;cursor: pointer;font-size:12px;line-height:100%;_line-height:26px;}"),e.push(".xiaobaike .jqd-outter-wrap{}.xiaobaike .jqd-bg{background:#000; filter:alpha(opacity=8);opacity:0.08; width:100%; height:100% !important; _height:1000px;position:absolute; z-index:-1; zoom:1;}.xiaobaike .jqd-inner-wrap{border:1px solid #A5A5A5;border-radius:2px;box-shadow:0;}.xiaobaike .jqd-title{height:20px;line-height:20px;font-size:18px;color:#87C7DB;padding:11px 0 1px 15px;font-family:\\5FAE\\8F6F\\96C5\\9ED1;}.xiaobaike .jqd-content{padding-top:5px;}.xiaobaike .jqd-close{width:10px;height:10px;top:15px;right:14px;background:url(http://www.huimg.cn/xiaobaike/images/baike2.0/form.png) -42px -108px;text-indent:2em;}.xiaobaike .jqd-button button{width:80px;height:27px;cursor: pointer;font-size:12px;line-height:100%;_line-height:26px;}"),e.push(".hudong .jqd-title, .hudong .jqd-close, .hudong .jqd-button, .hudong .jqd-button button{background:url(http://www.huimg.cn/lib/dialog/bg_minbox.png) no-repeat;}.hudong .jqd-title{background-repeat:repeat-x;height:30px;border-top:1px solid #69B2FC; font-weight:bold; color:#FFF; line-height:30px;}.hudong .jqd-bg{background:#000; filter:alpha(opacity=20);opacity:0.2; width:100%; height:100% !important; _height:1000px;position:absolute; z-index:-1; zoom:1;}.hudong .jqd-content{padding:2px 20px;}.hudong .jqd-bottom{height:25px;padding:5px 0 8px; text-align:center;}.hudong .jqd-close{width:16px;height:16px;top:7px;right:7px; background-position:0 -218px;text-indent:2em;}.hudong .jqd-button{display:inline-block;  margin:0 4px 0 3px; background-position:0 -32px;font-size:12px;}.hudong .jqd-button button{margin:0; cursor:pointer;height:31px; padding:0 14px; *padding:0 4px; border:0 none; background-position:right -63px;font-weight:bold;color:#FFF;line-height:31px;}.hudong .jqd-reg{background-position:0 -94px;}.hudong .jqd-reg button{background-position:right -125px; color:#2375CB;}.hudong .jqd-cancel{background-position:0 -156px;}.hudong .jqd-cancel button{background-position:right -187px; color:#2C2C2C;}"),t.dialog.addStyle(e.join("\n\n"))},build:function(e){var i=null,l="dialog-"+e.id,a=t("#"+l);return a.size()||(i=document.createElement("div"),i.id=l,i.innerHTML=o.getHtml(e),document.body.appendChild(i),a=t(i)),a.css({left:0,top:"-2000px",zIndex:e.zIndex||c.zIndex,position:e.fixed&&!n?"fixed":"absolute"}),a},setStyle:function(){var e=".jquery-dialog{position:absolute;z-index:1000;font-size:12px;overflow:hidden;}.jquery-dialog td{padding:0px;}.jqd-outter-wrap{padding:4px;}.jqd-outter-wrap table{margin:0;}.jqd-bg{border-radius:4px;}.jqd-inner-wrap{position:relative;background-color:#FFF;}.jqd-title{padding:0px 10px;font-size:16px;color:#FFFFFF;cursor:default;height:30px;line-height:30px;}.jqd-close{position:absolute;top:5px;right:20px;font-size:24px;color:#FFFFFF;cursor:pointer;width:18px;height:18px;overflow:hidden;font-weight:bold;font-family: tahoma;line-height:20px;}.jqd-content{padding:0px 10px;}.jqd-text{padding:10px;text-align:left;line-height:20px;font-size:14px;}.jqd-bottom{text-align:right;height:25px;padding-right:20px;}.jqd-bottom-pad{height:8px;}.jqd-cancel {margin-left:10px;}.jqd-status,.jqd-success, .jqd-error{position:absolute;width:200px;bottom:9px;background-color:#F5F5F5;color:#666;line-height:22px;border:1px dashed #CCC;border-radius:5px;left:20px;padding:0 10px;display:none;}.jqd-success{color:green;}.jqd-error{color:red;}";t.dialog.addStyle(e)},getHtml:function(t){var e=t,o="";return e.width&&e.height?o+="width:"+e.width+"px; height:"+e.height+"px; overflow:hidden;":e.width?o+="width:"+e.width+"px; overflow-x:hidden;":e.height&&(o+="height:"+e.height+"px; overflow-y:hidden;"),'<div class="jqd-bg"></div><div class="jqd-outter-wrap">	<table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td>	<div class="jqd-inner-wrap">	<div class="jqd-title">'+e.title+'</div><a class="jqd-close" name="close" title="关闭">×</a>	<div class="jqd-content" id="jqd-content-'+e.id+'" style="'+o+'"></div>	<div class="jqd-bottom">	<span class="jqd-ok jqd-button"><button name="ok" type="submit" >'+e.textOk+'</button></span>	<span class="jqd-cancel jqd-button"><button name="close">'+e.textCancel+'</button></span>	</div>	<div class="jqd-bottom-pad"></div>	<div class="jqd-status" id="jqd-status-'+e.id+'"></div>	</div></td></tr></tbody></table></div>'},setCss:function(t){var e,o=t.panel,i=t.option;if(i.style&&"object"==typeof i.style)for(var n in i.style)e=i.style[n],e&&o.find(".jqd-"+n).css(e);return t},bindEvent:function(e){var i=e.option,a=0,d=e.panel;l.bind("resize",function(){e.closed||e.setPosition()}),n&&i.fixed&&l.bind("scroll",function(){clearTimeout(a),a=setTimeout(function(){e.closed||o.scroll(e)},200)}),d.mousedown(function(o){if(t(o.target).is("a"))return!0;var i=e.option;i.zIndex||t.dialog.self==e||(c.zIndex+=2,d.css({zIndex:c.zIndex}),t.dialog.self=e)})},scroll:function(t){var e=t.option,o=a.scrollTop(),i=l.height(),n=t.panel.outerHeight();i>n&&(/^c(enter)?$/i.test(e.position)?o+=(i-n)/2:"right-bottom"===e.position&&(o+=i-n),t.panel.animate({top:o},200))},getPostion:function(t){var e=t.panel,o=t.option,i=l.width(),d=l.height(),r=e.outerWidth(),s=e.outerHeight(),c={},p=a.scrollTop();return/^c(enter)?/i.test(o.position)?(c.left="50%",c.marginLeft=-r/2,c.top="center-top"===o.position?0:"center-bottom"===o.position?d-s-2:(d-s)/2):("right-bottom"===o.position?(c.left=i-r-2,c.top=d-s-2):"right-top"===o.position?(c.left=i-r-2,c.top=2):"left-top"===o.position&&(c.left=2,c.top=2),c.left+=o.offsetX,c.left=0>c.left?0:c.left),(!o.fixed||n)&&(c.top+=p),c.top+=o.offsetY,o.fixed?n?c.top=p>c.top?p:c.top:(c.top=0>c.top?0:c.top,c.position="fixed"):c.top=p>c.top?p:c.top,c},resetFocus:function(t){var e=t.panel,o=t.option,i="start"==o.focusInput?!0:!1;if(o.focusInput&&/(start|end)/i.test(o.focusInput)){var n=e.find(":text,textarea").filter(":visible").eq(0);n.focus();var l=n[0];if(l.createTextRange){var a=l.createTextRange();a.select(),a.collapse(i),a.select()}else l.setSelectionRange&&(i?l.setSelectionRange(0,0):l.setSelectionRange(l.value.length,l.value.length))}}}),o.prototype={setPosition:function(){var t=this,e=t.panel,i=o.getPostion(t);e.css(i)},show:function(){var e=this,i=e.panel,n=e.option;if(!e.closed)return e;e.closed=!1,i.css(o.getPostion(e)),n.overlay&&(n.overlay.id=n.id,e.overlay=t.overlay(n.overlay));for(var l=s.length,a=0;l>a;a++)if(e==s[a]){delete s[a];break}if(s.push(e),n.model.indexOf("alone")>-1)for(var a=0,l=s.length;l>a;a++){var d=s[a];d&&e!=d&&0>d.option.model.indexOf("together")&&d.close()}return e.completed&&"iframe"!==n.type&&setTimeout(function(){e.execCallback()},0),e},setContent:function(e,o){o=o||"html";var i,n=this,l="",a=n.option,d="jqd-content-"+a.id;if(n.completed=1,"object"==typeof e)return t("#"+d).empty().append(e),n;switch(o){case"ajax":case"img":i=e,e=a.loading,n.completed=0;break;case"iframe":i=e,e="<iframe id='"+d+"_iframe' name='"+d+"_iframe' border='0' width='"+a.width+"' height='"+a.height+"' frameborder='no' "+" marginwidth='0' marginheight='0' scrolling='no' allowtransparency='yes'></iframe>"}if("selector"==o?(l=t(e).html()||t(e).data("htmltpl"),t(e).empty(),t(e).data("htmltpl",l)):l=e,l&&/<\/(div|table|dl|ul|ol|iframe)>/i.test(l)||(l='<table border="0" cellspacing="0" cellpadding="0" width="'+a.width+'" height="'+a.height+'">'+'<tbody><tr><td class="jqd-text" style="text-align:'+a.align+"; vertical-align:"+a.valign+'">'+l+"</td></tr></tbody></table>"),t("#"+d).html(l),"img"===o){var r=new Image;r.onload=function(){if(!n.closed){n.completed=1;var t=r.width>950?950:r.width;n.setContent('<img src="'+i+'" width="'+t+'" />'),n.setPosition()}},r.onerror=function(){n.setContent(a.loadErrorInfo)},r.src=i}else if("ajax"===o)t.ajax({url:i,type:"GET",dataType:"html",cache:!1,success:function(t){n.closed||(n.completed=1,n.setContent(t),n.setPosition())},complete:function(t,e){n.closed||"success"!=e&&n.setContent(a.loadErrorInfo)}});else if("iframe"===o){var s=t("#"+d+"_iframe"),c=0;s.load(function(){clearTimeout(c),n.execCallback()}),s.attr("src",i),c=setTimeout(function(){n.execCallback()},1e4)}else"html"===o&&n.completed&&(n.resetHeight(),"ajax"===a.type?setTimeout(function(){n.execCallback(l)},0):"img"===a.type&&setTimeout(function(){n.execCallback()},0));return n},resetHeight:function(){var t=this,e=t.option,o=t.panel;if(e.fixed&&"noborder"!=e.skin){var i=l.height(),n=o.find(".jqd-content");n.css({height:""}),o.height()>i?n.css({height:i-100,width:n.width(),display:"block",overflowX:"hidden",overflowY:"scroll"}):n.css({display:"block",overflowX:"visible",overflowY:"visible"}),t.setPosition()}},execCallback:function(t){var e=this,i=e.panel,n=e.option;e.completed&&("function"==typeof n.one&&(n.one(i,e),delete n.one),o.resetFocus(e),"function"==typeof n.callback&&n.callback(i,e,t),n.autoClose&&(n.autoClose=parseInt(n.autoClose,10),n.autoClose=isNaN(n.autoClose)?3e3:n.autoClose,e.autoCloseTimeoutId&&clearTimeout(e.autoCloseTimeoutId),e.autoCloseTimeoutId=setTimeout(function(){e.close()},n.autoClose)))},hide:function(){var t=this,e=s.length;t.closed=!0,t.panel.css({top:"-2000px"}),t.option.overlay&&t.overlay.close();for(var o=0;e>o;o++)if(t==s[o]){delete s[o];break}return t},close:function(){var t=this,e=t.option;return t.hide(),t.clear(),"function"==typeof e.onclose&&e.onclose(t.panel,t),t},ok:function(){var t=this,e=t.option;return"function"==typeof e.onok?e.onok(t.panel,t):t.close(),t},status:function(e,o){var i=this,n=i.option;return i.clear(),o=o||"status",t("#jqd-status-"+n.id).removeClass().addClass("jqd-"+o).html(e).show(),i},notice:function(t){return this.status(t)},success:function(t){return this.status(t,"success")},error:function(t){return this.status(t,"error")},clear:function(){var e=this,o=e.option.id;return clearTimeout(e.statusTimeId),t("#jqd-status-"+o).hide(),e},autoClear:function(t){t=parseInt(t,10),isNaN(t)&&(t=3e3);var e=this;return clearTimeout(e.statusTimeId),e.statusTimeId=setTimeout(function(){e.clear()},t),e},lock:function(){return d[this.option.id]=1,this},unlock:function(){return d[this.option.id]=0,this}},t(document).delegate("a[data-toggle=dialog]","click.dialog",function(){var e=t(this),o=e.data(),i=e.attr("href"),n={id:"__ajax",title:e.attr("title")||"提示",type:"ajax",width:o.width||400,height:o.height||200,skin:o.skin||"hudong",content:i,style:{bottom:{display:"none"}},overlay:{opacity:.7}};return o.zindex&&(n.zIndex=o.zindex),o.opacity&&(n.overlay.opacity=o.opacity),i.indexOf("#")>-1&&(n.type="selector",n.content="#"+i.split("#")[1]),t.dialog(n),!1}),setTimeout(function(){o.init()},0)}(jQuery),function(t){function e(t){var o=this,i=e;o.option=t,o.panel=i.build(t)}var o={},i=t(window),n=t(document),l=window.VBArray,a=l&&!window.XMLHttpRequest;t.overlay=function(i){var n,l=e;return i=t.extend({},l.defaults,i),n=o[i.id],n||(n=o[i.id]=new l(i)),n.show(),n.bindEvent(),n},e.defaults={id:"default",bgColor:"#000",opacity:.1,zIndex:1e4},e.build=function(e){var o=document.createElement("div"),i="everlay-"+e.id;o.id=i,o.className="overlay",a&&(o.innerHTML='<iframe style="width:100%;height:100%;visibility:inherit;" frameborder="0"></iframe>');var n=t(o);return n.css({position:"fixed",display:"none",zIndex:e.zIndex,left:0,top:0,width:"100%",height:"100%"}),o.style.backgroundColor=e.bgColor,"function"==typeof e.onclick&&n.click(function(){e.onclick(t(this))}),document.body.appendChild(o),t("#"+i)},e.prototype={show:function(){var t=this,e=t.panel,o=t.option;return t.resize(),a?e.show().css({opacity:o.opacity,position:"absolute"}):(e.css({opacity:0,display:"block"}),e.animate({opacity:o.opacity},200)),t},close:function(){var t=this,e=t.panel;return a?e.hide():e.animate({opacity:0},200,function(){e.hide()}),t},resize:function(){var e=this,o=e.panel,l=i.width();if(o.css("width",l),a&&(o.css({top:n.scrollTop(),height:i.height()}),"relative"==t("body").css("position"))){var d=parseInt((l-t("body").width())/2,10);d>0&&o.css("marginLeft",-d)}},bindEvent:function(){var t=this,e=t.panel;i.bind("resize",function(){t.resize()}),a&&i.bind("scroll",function(){e.css({top:n.scrollTop()})})}}}(jQuery);